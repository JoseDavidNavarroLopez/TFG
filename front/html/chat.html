<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AteneAI - Chatbot</title>
  <link rel="stylesheet" href="../css/styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/showdown@1.9.1/dist/showdown.min.js"></script>
</head>
<body>

  <!-- Sidebar del historial de chats -->
  <div id="chatHistoryPanel" class="chat-sidebar">
    <h3>Historial de Chats</h3>
    <ul id="chatList" class="chat-history"></ul>
  </div>

  <!-- Contenedor principal que se desplaza -->
  <div id="mainContent" class="main-content">

    <header>
      <div class="header-left">
        <button class="chat-btn" onclick="toggleChatHistory()">â˜°</button>
        <span class="title">AteneAI</span>
      </div>
      <button onclick="mostrarInputNuevoChat()" style="background-color: #2e2e58; color: white; border: none; padding: 6px 10px; border-radius: 20px;  cursor: pointer; margin: 15px 10px; font-size: 0.85rem;">âž• Nuevo Chat</button>

      <!-- Modal para escribir tÃ­tulo del nuevo chat -->
      <div id="nuevoChatModal" style="display:none; position:fixed; top:30%; left:50%; transform:translateX(-50%); background:#fff; padding:20px; border-radius:10px; box-shadow:0 0 10px rgba(0,0,0,0.2); z-index:999;">
        <label for="tituloChat">Pon tÃ­tulo del chat:</label><br>
        <input type="text" id="tituloChat" placeholder="Titulo de la conversaciÃ³n" style="margin: 10px 0; padding:5px; width:100%; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);" />
        <div style="text-align: right;">
          <button onclick="crearNuevoChat()">Aceptar</button>
          <button onclick="cerrarInputNuevoChat()">Cancelar</button>
        </div>
      </div>

      <div class="menu">
        <button id="modoMatematicoBtn"class="toggle-mode" style="background:none;border:none;" onclick="toggleModoMatematico()">ðŸ§®</button>
        <button class="toggle-mode" style="background:none;border:none;" onclick="toggleDarkMode()">ðŸŒ“</button>
        <button class="menu-btn" onclick="toggleLoginModal()"><img src="../recursos/peerfil.png" style="height:30px;width:30px;margin-top:10px"></button>
      </div>
    </header>

    <div id="statusMessage" style="text-align:center;color:rgb(255, 123, 0);font-weight:bold;"></div>
<div class="main-content">
  <div class="chat-container" id="chat">
    <div class="message bot" id="mensaje-bot" style="padding: 15px 15px;">
      Â¡Hola! Soy AteneAI, Â¿en quÃ© puedo ayudarte hoy?
    </div>
  </div>

  <div class="quick-replies" id="quickReplies">
    <button class="quick-reply" onclick="sendMessageQuick('Â¿QuÃ© puedes hacer?')">Â¿QuÃ© puedes hacer?</button>
    <button class="quick-reply" onclick="sendMessageQuick('Hola')">Hola</button>
    <button class="quick-reply" onclick="sendMessageQuick('Ayuda')">Ayuda</button>
  </div>

  <div class="input-area">
    <input type="text" id="userInput" placeholder="Escribe tu mensaje..." />
    <button onclick="sendMessage()">Enviar</button>
  </div>
</div>


    <!--Inicio de sesion y creacion de cuenta-->
    <div id="loginModal" class="login-modal">
      <div class="login-content">
        <h3 style="text-align: center;">Iniciar SesiÃ³n</h3>
        <input type="email" id="loginEmail" placeholder="Correo electrÃ³nico" />
        <input type="password" id="loginPassword" placeholder="ContraseÃ±a" />
        <p style="text-align:center;">
          Â¿No tienes cuenta?
          <a href="#" onclick="showRegister()">Crear una cuenta</a>
        </p>
        <button onclick="handleLogin()">Entrar</button>
        <button class="close-btn" onclick="closeLogin()">Cerrar</button>
      </div>
    </div>

    <div id="registerModal" class="login-modal">
      <div class="login-content">
        <h3 style="text-align: center;">Crear Cuenta</h3>
        <input type="text" id="registerName" placeholder="Tu nombre" />
        <input type="email" id="registerEmail" placeholder="Correo electrÃ³nico" />
        <input type="password" id="registerPassword" placeholder="ContraseÃ±a" />
        <button onclick="handleRegister()">Registrarse</button>
        <button onclick="closeRegister()">Cancelar</button>
      </div>
    </div>
<!-- modal ajustes -->
<div id="settingsModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background-color:rgba(0,0,0,0.5); z-index:10000;">
  <div style="background:var(--bg-color); color:var(--text-color); max-width:400px; margin:10% auto; padding:20px; border-radius:15px; box-shadow:0 0 20px rgba(0,0,0,0.3); position:relative;">
    <h2 style="text-align:center;">Ajustes del usuario</h2>
    <label for="settingsName">Nombre:</label>
    <input type="text" id="settingsName" style="width:100%; padding:8px; margin-bottom:10px; border-radius:8px; border:1px solid #ccc;">
    
    <label for="settingsPassword">Nueva contraseÃ±a:</label>
    <input type="password" id="settingsPassword" style="width:100%; padding:8px; margin-bottom:10px; border-radius:8px; border:1px solid #ccc;">

    <div style="display:flex; justify-content:space-between; margin-top:15px;">
      <button onclick="saveSettings()">Guardar</button>
      <button onclick="closeSettings()">Cancelar</button>
    </div>
  </div>
</div>



    
  </div> <!-- cierre mainContent -->

  <script src="../js/script.js"></script>
</body>
</html>
